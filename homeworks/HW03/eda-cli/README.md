# S03 – eda_cli: мини-EDA для CSV

Небольшое CLI-приложение для базового анализа CSV-файлов.
Используется в рамках Семинара 03 курса «Инженерия ИИ».

## Требования

- Python 3.11+
- [uv](https://docs.astral.sh/uv/) установлен в систему

## Инициализация проекта

В корне проекта (S03):

```bash
uv sync
```

Эта команда:

- создаст виртуальное окружение `.venv`;
- установит зависимости из `pyproject.toml`;
- установит сам проект `eda-cli` в окружение.

## Запуск CLI

### Краткий обзор

```bash
uv run eda-cli overview data/example.csv
```

Параметры:

- `--sep` – разделитель (по умолчанию `,`);
- `--encoding` – кодировка (по умолчанию `utf-8`).

### Полный EDA-отчёт

```bash
uv run eda-cli report data/example.csv --out-dir reports
```

В результате в каталоге `reports/` появятся:

- `report.md` – основной отчёт в Markdown;
- `summary.csv` – таблица по колонкам;
- `missing.csv` – пропуски по колонкам;
- `correlation.csv` – корреляционная матрица (если есть числовые признаки);
- `top_categories/*.csv` – top-k категорий по строковым признакам;
- `hist_*.png` – гистограммы числовых колонок;
- `missing_matrix.png` – визуализация пропусков;
- `correlation_heatmap.png` – тепловая карта корреляций.

## Домашнее задание
В рамках домашнего задания было реализовано создание двух эвристик качества данных в файле `./src/eda_cli/core.py`:
- `has_suspicious_id_duplicates` – флаг уникальности пользовательских идентификаторов, влияющий на итоговую оценку качества даных;
- `has_high_cardinality_categoricals` – флаг, отражающий наличие в наборе данных категориального типа с большим количеством уникальных значений (кардинальность категориальных данных). Максимальный процент кардинальности категориальных данных задается параметрами из командной строки.

Флаги качества данных, основанные на реализованных эвристиках, добавляются в возвращаемый словарь функций `compute_quality_flags` и записываются в итоговый отчет `report.md`. Были написаны тесты добавленных эвристик в `./tests/test_core.py` .

В модуле `./src/eda_cli/cli.py` была доработана команда `report`, принимающая следующие параметры:
-  `high_cardinality_percent` – устанавливает максимальной процент кардинальности категориальных данных (по умолчанию 0.75);
- `title` – заголовок отчета `report.md` (по умолчанию `EDA-отчёт`).

Пример вызова `eda-cli report` с новыми параметрами

```bash
uv run eda-cli report data/example.csv --high-cardinality-percent 0.95 --title HELLO_WORLD
```

Также в `./src/eda_cli/cli.py` была добавлена команда `head`, выводящая первые `n` (по умолчанию 10) строк обрабатываемых данных

Пример вызова `eda-cli head`

```bash
uv run eda-cli head data/example.csv --n 5
```

## Тесты

```bash
uv run pytest -q
```